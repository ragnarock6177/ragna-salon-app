import{o as J,p as Q,r as W,s as X,u as Y,v as Z}from"./chunk-6EJ6NX7I.js";import{E as R,F as q,K as j,L as K,O as G,P as B,S as $,U as z,V as H}from"./chunk-A5XTOKYI.js";import{a as w,b as d,d as I,e as F,h as U,j as D,k as V,n as L,p as T,r as N}from"./chunk-R6TD3WNB.js";import{Ga as r,Jc as E,Kc as A,Nb as l,Pa as g,Pb as u,T as P,Va as O,Za as v,a as b,gb as x,h as M,mb as m,nb as o,ob as a,pb as s,wc as k,xc as y,yb as f,zc as S}from"./chunk-2QRLZU6U.js";var _=class n{_users=[{name:"Alex Lee",email:"alex.lee@example.com",role:"Owner",active:"Active",last:"2 minutes ago"},{name:"Marina Stone",email:"marina.stone@example.com",role:"Editor",active:"Pending",last:"47 minutes ago"},{name:"Tom Keller",email:"tom.keller@example.com",role:"Viewer",active:"Inactive",last:"2 hours ago"},{name:"Sam Park",email:"sam.park@example.com",role:"Editor",active:"Active",last:"yesterday"},{name:"Lina Rose",email:"lina.rose@example.com",role:"Viewer",active:"Active",last:"3 days ago"},{name:"Alex Lee",email:"alex.lee@example.com",role:"Owner",active:"Active",last:"2 minutes ago"},{name:"Marina Stone",email:"marina.stone@example.com",role:"Editor",active:"Pending",last:"47 minutes ago"},{name:"Tom Keller",email:"tom.keller@example.com",role:"Viewer",active:"Inactive",last:"2 hours ago"},{name:"Sam Park",email:"sam.park@example.com",role:"Editor",active:"Active",last:"yesterday"},{name:"Lina Rose",email:"lina.rose@example.com",role:"Viewer",active:"Active",last:"3 days ago"},{name:"Alex Lee",email:"alex.lee@example.com",role:"Owner",active:"Active",last:"2 minutes ago"},{name:"Marina Stone",email:"marina.stone@example.com",role:"Editor",active:"Pending",last:"47 minutes ago"},{name:"Tom Keller",email:"tom.keller@example.com",role:"Viewer",active:"Inactive",last:"2 hours ago"},{name:"Sam Park",email:"sam.park@example.com",role:"Editor",active:"Active",last:"yesterday"},{name:"Lina Rose",email:"lina.rose@example.com",role:"Viewer",active:"Active",last:"3 days ago"},{name:"Alex Lee",email:"alex.lee@example.com",role:"Owner",active:"Active",last:"2 minutes ago"},{name:"Marina Stone",email:"marina.stone@example.com",role:"Editor",active:"Pending",last:"47 minutes ago"},{name:"Tom Keller",email:"tom.keller@example.com",role:"Viewer",active:"Inactive",last:"2 hours ago"},{name:"Sam Park",email:"sam.park@example.com",role:"Editor",active:"Active",last:"yesterday"},{name:"Lina Rose",email:"lina.rose@example.com",role:"Viewer",active:"Active",last:"3 days ago"},{name:"Alex Lee",email:"alex.lee@example.com",role:"Owner",active:"Active",last:"2 minutes ago"},{name:"Marina Stone",email:"marina.stone@example.com",role:"Editor",active:"Pending",last:"47 minutes ago"},{name:"Tom Keller",email:"tom.keller@example.com",role:"Viewer",active:"Inactive",last:"2 hours ago"},{name:"Sam Park",email:"sam.park@example.com",role:"Editor",active:"Active",last:"yesterday"},{name:"Lina Rose",email:"lina.rose@example.com",role:"Viewer",active:"Active",last:"3 days ago"},{name:"Alex Lee",email:"alex.lee@example.com",role:"Owner",active:"Active",last:"2 minutes ago"},{name:"Marina Stone",email:"marina.stone@example.com",role:"Editor",active:"Pending",last:"47 minutes ago"},{name:"Tom Keller",email:"tom.keller@example.com",role:"Viewer",active:"Inactive",last:"2 hours ago"},{name:"Sam Park",email:"sam.park@example.com",role:"Editor",active:"Active",last:"yesterday"},{name:"Lina Rose",email:"lina.rose@example.com",role:"Viewer",active:"Active",last:"3 days ago"},{name:"Alex Lee",email:"alex.lee@example.com",role:"Owner",active:"Active",last:"2 minutes ago"},{name:"Marina Stone",email:"marina.stone@example.com",role:"Editor",active:"Pending",last:"47 minutes ago"},{name:"Tom Keller",email:"tom.keller@example.com",role:"Viewer",active:"Inactive",last:"2 hours ago"},{name:"Sam Park",email:"sam.park@example.com",role:"Editor",active:"Active",last:"yesterday"},{name:"Lina Rose",email:"lina.rose@example.com",role:"Viewer",active:"Active",last:"3 days ago"},{name:"Alex Lee",email:"alex.lee@example.com",role:"Owner",active:"Active",last:"2 minutes ago"},{name:"Marina Stone",email:"marina.stone@example.com",role:"Editor",active:"Pending",last:"47 minutes ago"},{name:"Tom Keller",email:"tom.keller@example.com",role:"Viewer",active:"Inactive",last:"2 hours ago"},{name:"Sam Park",email:"sam.park@example.com",role:"Editor",active:"Active",last:"yesterday"},{name:"Lina Rose",email:"lina.rose@example.com",role:"Viewer",active:"Active",last:"3 days ago"}];onOpenModal=new M;onConfirm=new M;onConfirmAction=null;list(){return[...this._users]}get(e){return this._users[e]}add(e){this._users.unshift(e)}update(e,t){this._users[e]=b(b({},this._users[e]),t)}remove(e){this._users.splice(e,1)}toggleStatus(e){let t=["Active","Pending","Inactive"],i=this._users[e].active,c=t[(t.indexOf(i)+1)%t.length];this._users[e].active=c}openAdd(){this.onOpenModal.next({})}openEdit(e){this.onOpenModal.next({index:e})}closeModal(){this.onOpenModal.next(null)}requestDelete(e){this.onConfirm.next({text:`Delete user ${this._users[e].name}?`,action:()=>this.remove(e)})}static \u0275fac=function(t){return new(t||n)};static \u0275prov=P({token:n,factory:n.\u0275fac,providedIn:"root"})};function ne(n,e){n&1&&(o(0,"mat-error"),l(1," Name is required "),a())}function ie(n,e){n&1&&(o(0,"mat-error"),l(1," Name must be at least 2 characters "),a())}function oe(n,e){n&1&&(o(0,"mat-error"),l(1," Email is required "),a())}function re(n,e){n&1&&(o(0,"mat-error"),l(1," Please enter a valid email "),a())}function le(n,e){if(n&1&&(o(0,"mat-option",27),l(1),a()),n&2){let t=e.$implicit;m("value",t),r(),u(" ",t," ")}}function me(n,e){if(n&1&&(o(0,"mat-option",27)(1,"span",28),s(2,"span",29),l(3),a()()),n&2){let t=e.$implicit;m("value",t),r(),x("data-status",t),r(),x("data-status",t),r(),u(" ",t," ")}}var ee=class n{constructor(e,t,i,c){this.fb=e;this.dialogRef=t;this.data=i;this.userService=c;if(this.isEditMode=i?.index!==void 0,this.userForm=this.fb.group({name:["",[d.required,d.minLength(2)]],email:["",[d.required,d.email]],role:["Editor",d.required],active:["Active",d.required],last:["just now"]}),this.isEditMode&&i.index!==void 0){let p=this.userService.get(i.index);p&&this.userForm.patchValue(p)}}userForm;isEditMode=!1;roles=["Owner","Editor","Viewer","Admin"];statuses=["Active","Pending","Inactive"];ngAfterViewInit(){}onSubmit(){if(this.userForm.valid){let e=this.userForm.value;this.isEditMode&&this.data.index!==void 0?this.userService.update(this.data.index,e):this.userService.add(e),this.dialogRef.close(e)}}onCancel(){this.dialogRef.close()}static \u0275fac=function(t){return new(t||n)(g(T),g(J),g(Q),g(_))};static \u0275cmp=O({type:n,selectors:[["app-user-dialog"]],decls:45,vars:11,consts:[[1,"user-dialog"],[1,"dialog-header"],[1,"flex","items-center","gap-3"],[1,"h-10","w-10","rounded-xl","bg-sky-500/10","dark:bg-sky-500/20","flex","items-center","justify-center"],["name","user-plus",1,"w-5","h-5","text-sky-600","dark:text-sky-400"],[1,"text-xl","font-semibold","text-slate-900","dark:text-slate-50"],[1,"text-sm","text-slate-600","dark:text-slate-400"],["mat-icon-button","",1,"close-btn",3,"click"],["name","x",1,"w-5","h-5"],[1,"dialog-content",3,"ngSubmit","formGroup"],[1,"form-grid"],["appearance","fill",1,"full-width"],[1,"inline-flex","items-center","gap-1"],["name","user",1,"w-4","h-4"],["matInput","","formControlName","name","placeholder","Enter full name","required",""],[4,"ngIf"],["name","mail",1,"w-4","h-4"],["matInput","","formControlName","email","type","email","placeholder","user@example.com","required",""],["appearance","fill"],["name","shield",1,"w-4","h-4"],["formControlName","role","required",""],[3,"value",4,"ngFor","ngForOf"],["name","activity",1,"w-4","h-4"],["formControlName","active","required",""],[1,"dialog-actions"],["type","button","mat-stroked-button","",1,"inline-flex","items-center","gap-1","cancel-btn",3,"click"],["type","submit","mat-raised-button","",1,"inline-flex","items-center","gap-1","submit-btn",3,"disabled"],[3,"value"],[1,"status-option"],[1,"status-dot"]],template:function(t,i){if(t&1&&(o(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),s(4,"lucide-angular",4),a(),o(5,"div")(6,"h2",5),l(7),a(),o(8,"p",6),l(9),a()()(),o(10,"button",7),f("click",function(){return i.onCancel()}),s(11,"lucide-angular",8),a()(),o(12,"form",9),f("ngSubmit",function(){return i.onSubmit()}),o(13,"div",10)(14,"mat-form-field",11)(15,"mat-label",12),s(16,"lucide-angular",13),l(17," Full Name "),a(),s(18,"input",14),v(19,ne,2,0,"mat-error",15)(20,ie,2,0,"mat-error",15),a(),o(21,"mat-form-field",11)(22,"mat-label",12),s(23,"lucide-angular",16),l(24," Email Address "),a(),s(25,"input",17),v(26,oe,2,0,"mat-error",15)(27,re,2,0,"mat-error",15),a(),o(28,"mat-form-field",18)(29,"mat-label",12),s(30,"lucide-angular",19),l(31," Role "),a(),o(32,"mat-select",20),v(33,le,2,2,"mat-option",21),a()(),o(34,"mat-form-field",18)(35,"mat-label",12),s(36,"lucide-angular",22),l(37," Status "),a(),o(38,"mat-select",23),v(39,me,4,4,"mat-option",21),a()()(),o(40,"div",24)(41,"button",25),f("click",function(){return i.onCancel()}),l(42," Cancel "),a(),o(43,"button",26),l(44),a()()()()),t&2){let c,p,h,C;r(7),u(" ",i.isEditMode?"Edit User":"Add New User"," "),r(2),u(" ",i.isEditMode?"Update user information":"Create a new user account"," "),r(3),m("formGroup",i.userForm),r(7),m("ngIf",(c=i.userForm.get("name"))==null?null:c.hasError("required")),r(),m("ngIf",(p=i.userForm.get("name"))==null?null:p.hasError("minlength")),r(6),m("ngIf",(h=i.userForm.get("email"))==null?null:h.hasError("required")),r(),m("ngIf",(C=i.userForm.get("email"))==null?null:C.hasError("email")),r(6),m("ngForOf",i.roles),r(6),m("ngForOf",i.statuses),r(4),m("disabled",!i.userForm.valid),r(),u(" ",i.isEditMode?"Update User":"Create User"," ")}},dependencies:[S,k,y,N,U,w,I,F,L,V,D,W,K,j,R,q,B,G,Z,Y,X,H,z,$,A,E],styles:[".user-dialog[_ngcontent-%COMP%]{padding:0;max-width:600px;width:100%}.dialog-header[_ngcontent-%COMP%]{display:flex;align-items:flex-start;justify-content:space-between;padding:1.5rem;border-bottom:1px solid rgb(226,232,240);margin-bottom:1.5rem}.dialog-header[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]{color:#64748b;margin-top:-.25rem}.dialog-header[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]:hover{color:#0f172a;background-color:#e2e8f080}.dark[_nghost-%COMP%]   .dialog-header[_ngcontent-%COMP%], .dark   [_nghost-%COMP%]   .dialog-header[_ngcontent-%COMP%]{border-bottom-color:#475569}.dark[_nghost-%COMP%]   .dialog-header[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%], .dark   [_nghost-%COMP%]   .dialog-header[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]{color:#94a3b8}.dark[_nghost-%COMP%]   .dialog-header[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]:hover, .dark   [_nghost-%COMP%]   .dialog-header[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]:hover{color:#e2e8f0;background-color:#4755694d}.dark[_nghost-%COMP%]   .dialog-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%], .dark   [_nghost-%COMP%]   .dialog-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#f1f5f9!important}.dark[_nghost-%COMP%]   .dialog-header[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .dark   [_nghost-%COMP%]   .dialog-header[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#94a3b8!important}.dialog-content[_ngcontent-%COMP%]{padding:0 1.5rem 1.5rem}.form-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr;gap:1.25rem}@media(min-width:640px){.form-grid[_ngcontent-%COMP%]{grid-template-columns:1fr 1fr}.form-grid[_ngcontent-%COMP%]   .full-width[_ngcontent-%COMP%]{grid-column:1/-1}}.dialog-actions[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;gap:.75rem;padding-top:1.5rem;border-top:1px solid rgb(226,232,240)}.dark[_nghost-%COMP%]   .dialog-actions[_ngcontent-%COMP%], .dark   [_nghost-%COMP%]   .dialog-actions[_ngcontent-%COMP%]{border-top-color:#475569}.cancel-btn[_ngcontent-%COMP%]{color:#334155!important;border-color:#cbd5e1!important}.cancel-btn[_ngcontent-%COMP%]:hover{background-color:#f1f5f9cc!important;border-color:#94a3b8!important}.dark[_nghost-%COMP%]   .cancel-btn[_ngcontent-%COMP%], .dark   [_nghost-%COMP%]   .cancel-btn[_ngcontent-%COMP%]{color:#e2e8f0!important;border-color:#475569!important}.dark[_nghost-%COMP%]   .cancel-btn[_ngcontent-%COMP%]:hover, .dark   [_nghost-%COMP%]   .cancel-btn[_ngcontent-%COMP%]:hover{background-color:#4755694d!important;border-color:#64748b!important}.submit-btn[_ngcontent-%COMP%]{background-color:#0ea5e9!important;color:#fff!important;font-weight:500}.submit-btn[_ngcontent-%COMP%]:hover:not(:disabled){background-color:#0284c7!important}.submit-btn[_ngcontent-%COMP%]:disabled{background-color:#cbd5e1!important;color:#94a3b8!important}.dark[_nghost-%COMP%]   .submit-btn[_ngcontent-%COMP%]:disabled, .dark   [_nghost-%COMP%]   .submit-btn[_ngcontent-%COMP%]:disabled{background-color:#334155!important;color:#64748b!important}.status-option[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem}.status-dot[_ngcontent-%COMP%]{width:.375rem;height:.375rem;border-radius:9999px;display:inline-block}.status-dot[data-status=Active][_ngcontent-%COMP%]{background-color:#10b981}.status-dot[data-status=Pending][_ngcontent-%COMP%]{background-color:#f59e0b}.status-dot[data-status=Inactive][_ngcontent-%COMP%]{background-color:#94a3b8}  .user-dialog .mat-mdc-form-field{width:100%}  .user-dialog .mat-mdc-text-field-wrapper{border-radius:.5rem}"]})};export{_ as a,ee as b};
